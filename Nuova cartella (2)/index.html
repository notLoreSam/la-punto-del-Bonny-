<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Light And Dark Mode Toggle</title>
    <script src="https://code.iconify.design/1/1.0.4/iconify.min.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body >

<label>
    <input type="checkbox" name="checkbox" class="toggle-checkbox" id="darkModeToggle" />
    <div class="toggle-slot">
        <div class="sun-icon-wrapper">
            <div class="iconify sun-icon" data-icon="feather-sun" data-inline="false"></div>
        </div>

        <div class="toggle-button"></div>

        <div class="moon-icon-wrapper">
            <div class="iconify moon-icon" data-icon="feather-moon" data-inline="false"></div>
        </div>
    </div>
</label>

<script>
    // Controlla se la modalità scura è attivata in localStorage
    const darkModeToggle = document.getElementById('darkModeToggle');
    if (localStorage.getItem('darkMode') === 'true') {
        console.log("Attivazione modalità scura da localStorage...");
        document.body.classList.add('dark-mode');
        darkModeToggle.checked = true;
    }

    // Aggiungi l'event listener per attivare/disattivare la modalità scura
    darkModeToggle.addEventListener('change', () => {
        document.body.classList.toggle('dark-mode');

        // Salva la scelta dell'utente in localStorage
        const isDarkModeActive = document.body.classList.contains('dark-mode');
        console.log(`Modalità scura ${isDarkModeActive ? 'attivata' : 'disattivata'}`);
        localStorage.setItem('darkMode', isDarkModeActive);
    });
</script>


</body>
</html>
