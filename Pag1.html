<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pagina1</title>
    <link rel="stylesheet" href="./css/scarpa.css">
    <link rel="stylesheet" href="./css/navbar.css">
    <link rel="stylesheet" href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <div class="body_items">
        <div class="item_1">
            <img src="./assets/ombra.avif" alt="">
        </div>
        <div class="item_2">
            <img src="./assets/nike.png" alt="">
        </div>
        <div class="item_3">
            <p>Just Do It</p>
        </div>
    </div>
    <div class="container">
        <nav>
            <div class="left_nav">
                <div class="nav_logo">
                    <img src="./assets/nike.jpg" alt="">
                </div>
                <div class="nav_menu">
                    <ul>
                        <li>
                            <a href="index.html" class="link">HOME</a>
                            <div class="link_border"></div>
                        </li>
                        <li>
                            <a href="scarpe.html" class="link">SCARPE</a>
                            <div class="link_border"></div>
                        </li>
                        <li class="nav-link  services">
                            <a href="#">PRODOTTI
                                <span class="material-icons dropdown-icon">
                                    arrow_drop_down
                                </span>
                            </a>
                            <ul class="drop-down">
                                <li><a href="Pag3.html">Blue Gaze and Enamel Green</a></li>
                                <li><a href="Pag2.html">Reverse Olive</a></li>
                                <li><a href="Pag1.html">Dark Smoke Grey and Fire Red</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="scarpe.html#best_seller" class="link">BEST SELLER</a>
                            <div class="link_border"></div>
                        </li>
                        <li>
                            <a href="login.html" class="link">
                                ACCEDI/REGISTRATI
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="right_nav">
                <a href="login.html"><img src="https://img.icons8.com/?size=100&id=26211&format=png&color=000000" alt=""></a>
                <a href="carrello.html"><img src="https://img.icons8.com/?size=100&id=85080&format=png&color=000000" alt=""></a>
            </div>
        </nav>
        
        <!-- MAIN-->
        <main>
            <!--LEFT COLUMN-->
            <div class="left_col">
                <div class="shoe_title">
                    <p>Air Max SNDR GORE-TEX</p>
                    <h1>Dark Smoke Grey and Fire Red</h1>
                </div>
                <div class="line"></div>
                <div class="shoe_description">
                    <p>Disponibile il giorno 02/11 alle ore 9:00
                        Dopo il rivoluzionario debutto del 1999, 
                        la futuristica Air Max SNDR torna in un'edizione più cool che mai. 
                        Questa sneaker continua a rompere gli schemi con una nuova colorway d'impatto, 
                        che abbina tonalità Dark Smoke Grey e Fire Red a 
                        dettagli color argento e agli esclusivi inserti dal design rifrangente. 
                        L'edizione include inoltre il GORE-TEX per offrire calore e pelle sempre asciutta, 
                        mentre l'ammortizzazione Max Air dona comfort ed elasticità straordinari. 
                        Sotto la zip del rivestimento appaiono i numeri "6453", 
                        che richiamano le ultime quattro cifre dei numeri di telefono di alcuni uffici Nike nel mondo 
                        e compongono la scritta N-I-K-E sul tastierino</p>
                </div>
                <div class="cart">
                    <p class="price">199,99 €</p>
                    <p class="seleziona">Seleziona la taglia:</p>
                    <select id="selezioneOpzione" class="taglie">
                        <option value="" disabled selected>Scegli un'opzione</option>
                        <option value="35">35</option>
                        <option value="36">36</option>
                        <option value="37">36</option>
                        <option value="38">38</option>
                        <option value="39">39</option>
                        <option value="40">40</option>
                        <option value="40.5">40.5</option>
                        <option value="41">41</option>
                        <option value="42">42</option>
                        <option value="42.5">42.5</option>
                        <option value="43">43</option>
                        <option value="44">44</option>
                        <option value="44.5">44.5</option>
                        <option value="45">45</option>
                        <option value="46">46</option>
                        <option value="47">47</option>
                        <option value="48">48</option>
                        <option value="49">49</option>
                        <option value="50">50</option>
                    </select>
                    
                    <p class="seleziona">Seleziona la quantità:</p>
                    <div class="quantity-selector">
                        <button class="btn minus">-</button>
                        <input type="number" id="quantity" name="quantity" value="1" min="1" max="99">
                        <button class="btn plus">+</button>
                    </div>
                    
                    <br>
                    <button onclick="aggiungiMessaggio()">Aggiungi al carrello</button>
                </div>
            </div>
            <!--RIGHT COLUMN-->
            <div class="right_col">
                <img src="./assets/scarpa.jpg" class="featured_image">
            </div>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Recupera i dati dal localStorage
            const cartItems = JSON.parse(localStorage.getItem('messaggiSalvati')) || [];
            
            // Funzione per calcolare il totale degli articoli e il prezzo totale
            const calculateCartSummary = () => {
                let totalItems = 0;
                let totalPrice = 0;
    
                cartItems.forEach(item => {
                    totalItems += item.quantita;  // Aggiungi la quantità degli articoli
                    totalPrice += item.prezzo * item.quantita;  // Aggiungi il prezzo totale
                });
    
                return { totalItems, totalPrice };
            };
    
            // Funzione per aggiornare la vista
            const updateCartSummary = () => {
                const { totalItems, totalPrice } = calculateCartSummary();
                
                // Aggiorna il numero di articoli e il totale dell'ordine nella pagina
                document.getElementById('cart-counter').textContent = totalItems;
                document.getElementById('order-items').textContent = totalItems;
                document.getElementById('order-total').textContent = totalPrice.toFixed(2) + ' €';
                document.querySelector('.summary p:nth-child(1)').textContent = `Articoli: ${totalItems}`;
                document.querySelector('.summary p:nth-child(2)').textContent = `Totale: ${totalPrice.toFixed(2)} €`;
            };
    
            // Chiamata per aggiornare la vista subito dopo il caricamento della pagina
            updateCartSummary();
    
            // Gestisci l'aggiornamento dei dati durante il checkout
            const addressButton = document.getElementById('btn-address');
            const paymentButton = document.getElementById('btn-payment');
            const reviewButton = document.getElementById('btn-review');
            const addressSection = document.getElementById('section-address');
            const paymentSection = document.getElementById('section-payment');
            const reviewSection = document.getElementById('section-review');
    
            addressButton.addEventListener('click', () => {
                const address = document.getElementById('address').value;
                if (address.trim() !== '') {
                    addressSection.classList.add('completed');
                    paymentSection.classList.remove('completed');
                } else {
                    alert('Inserisci un indirizzo valido.');
                }
            });
    
            document.getElementById('payment-method').addEventListener('change', (e) => {
                if (e.target.value !== '') {
                    paymentButton.classList.remove('disabled');
                } else {
                    paymentButton.classList.add('disabled');
                }
            });
    
            paymentButton.addEventListener('click', () => {
                if (!paymentButton.classList.contains('disabled')) {
                    paymentSection.classList.add('completed');
                    reviewSection.classList.remove('completed');
                }
            });
    
            reviewButton.addEventListener('click', () => {
                if (!reviewButton.classList.contains('disabled')) {
                    alert('Ordine completato con successo!');
                }
            });
        });
    </script>
    
</body>
</html>
